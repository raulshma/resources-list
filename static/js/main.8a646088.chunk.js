(this["webpackJsonpresources-list"]=this["webpackJsonpresources-list"]||[]).push([[0],{21:function(e,t,a){e.exports=a(43)},26:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(19),i=a.n(o),c=(a(26),a(6)),l=a(5),u=Object(n.createContext)(),s=function(e){var t=e.reducer,a=e.initialState,o=e.children;return r.a.createElement(u.Provider,{value:Object(n.useReducer)(t,a)},o)},m=function(){return Object(n.useContext)(u)},d=Object(l.a)({user:{position:"fixed",top:"5px",left:"5px",border:"1px solid #0062b9",width:50,height:50,borderRadius:"50%"}});var p=function(){var e=d(),t=m(),a=Object(c.a)(t,2),n=a[0].user;return a[1],r.a.createElement("img",{className:e.user,src:n?null===n||void 0===n?void 0:n.photoURL:"",alt:"Loading..."})},g=Object(l.a)({select:{position:"fixed",top:"0.7rem",left:"60px"}});var f=function(e){var t=e.values,a=e.change,n=g();return r.a.createElement("select",{name:"categories",className:n.select,onChange:a},r.a.createElement("option",{value:""},"Select Category"),t.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})))},b=Object(l.a)({item:{backgroundColor:"#ffffff",marginBottom:"1rem",padding:"1rem",display:"flex",flexDirection:"column",boxShadow:"0px 1px 3px 0 rgba(0, 0, 0, 0.15)","& p":{marginBottom:3,fontWeight:600},"& small":{color:"#875C74"}}});var h=function(e){var t=e.item,a=b();return r.a.createElement("div",{className:a.item},r.a.createElement("p",null,r.a.createElement("a",{href:t.link,target:"_blank",rel:"noopener noreferrer"},t.link)," ","- ",t.title),t.timestamp&&r.a.createElement("small",null,new Date(t.timestamp.toDate()).toUTCString()))},v=Object(l.a)({container:{width:"60vw",marginTop:"60px",marginBottom:"1rem",padding:"1rem",display:"flex",flexDirection:"column"},"@media screen and (max-width: 32em)":{container:{width:"85vw"}}});var E=function(e){var t=e.data,a=v();return r.a.createElement("div",{className:a.container},t.map((function(e){return r.a.createElement(h,{item:e,key:e.title})})))},j=a(15),O=a(11),x=a(8),y=x.initializeApp({apiKey:"AIzaSyCPbuYMie4GZcZdpTNBLGiAIOs2TEcdW2E",authDomain:"resources-list-cdcc1.firebaseapp.com",databaseURL:"https://resources-list-cdcc1.firebaseio.com",projectId:"resources-list-cdcc1",storageBucket:"resources-list-cdcc1.appspot.com",messagingSenderId:"110668222898",appId:"1:110668222898:web:44a887a3e34b43195554ab",measurementId:"G-X3GCL5JFCL"}).firestore(),w=x.auth(),C=new x.auth.GoogleAuthProvider,k=y,S=Object(l.a)({myForm:{width:"100%",display:"grid",gridTemplateColumns:"0.6fr",justifyContent:"center",paddingTop:"1rem"},myFormControls:{display:"grid",gridTemplateColumns:"1fr"},button:{marginRight:0},"@media screen and (max-width: 32em)":{myForm:{width:"85vw"},myFormControls:{flexDirection:"column"}}});var N=function(e){var t=e.id,a=S(),n=r.a.useState({title:"",link:""}),o=Object(c.a)(n,2),i=o[0],l=o[1],u=function(e){l(Object(O.a)(Object(O.a)({},i),{},Object(j.a)({},e.target.name,e.target.value)))};return r.a.createElement("form",{className:a.myForm,onSubmit:function(e){e.preventDefault(),i.title&&i.link&&t&&k.collection("categories").doc(t).collection("items").add({title:i.title,link:i.link,timestamp:x.firestore.FieldValue.serverTimestamp()})}},r.a.createElement("div",{className:a.myFormControls},r.a.createElement("textarea",{col:"4",rows:"4",type:"text",name:"title",placeholder:"Name",onChange:u,value:i.title,required:!0}),r.a.createElement("input",{type:"url",name:"link",className:a.button,placeholder:"Link",onChange:u,value:i.link,required:!0}),r.a.createElement("input",{className:a.button,type:"submit",value:"ADD"})))},F="SET_USER",D=function(e,t){switch(t.type){case F:return Object(O.a)(Object(O.a)({},e),{},{user:t.user});default:return e}},I=Object(l.a)({login:{width:"60%",height:"100%",display:"grid",padding:"1rem",placeContent:"center","& div":{display:"flex",flexDirection:"column",alignItems:"center","& h1":{textAlign:"center",paddingBottom:"2rem",color:"#60435F"},"& button":{width:"300px",backgroundColor:"#D67AB1",color:"#f2f2f2",fontWeight:600,border:"none",borderRadius:"5px"}}}});var B=function(){var e=I(),t=m(),a=Object(c.a)(t,2),o=(a[0],a[1]),i=Object(n.useState)(!0),l=Object(c.a)(i,2),u=l[0],s=l[1];return Object(n.useEffect)((function(){var e=w.onAuthStateChanged((function(t){s(!1),o({type:F,user:t}),e()}))}),[]),u?r.a.createElement("div",{className:e.login},r.a.createElement("div",{className:"loader"},"Loading...")):r.a.createElement("div",{className:e.login},r.a.createElement("div",null,r.a.createElement("h1",null,"No registration required, sign in with your google account"),r.a.createElement("button",{type:"button",name:"signIn",onClick:function(){w.signInWithPopup(C).then((function(e){o({type:F,user:e.user})})).catch((function(e){alert(e.message)}))}},"Sign In")))},T=Object(l.a)({logout:{position:"fixed",top:"0.7rem",right:"0px"}}),A=function(e){var t=e.logout,a=T();return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:a.logout,onClick:t},"Sign out"))};var L=function(){var e=m(),t=Object(c.a)(e,2),a=t[0].user,o=t[1],i=Object(n.useState)([]),l=Object(c.a)(i,2),u=l[0],s=l[1],d=Object(n.useState)([]),g=Object(c.a)(d,2),b=g[0],h=g[1],v=Object(n.useState)(""),j=Object(c.a)(v,2),O=j[0],y=j[1];return Object(n.useEffect)((function(){k.collection("categories").onSnapshot((function(e){var t=e.docs;s(t.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null),r.a.createElement(A,{logout:function(){Object(x.auth)().signOut(),o({type:F,user:""})}}),r.a.createElement(f,{values:u,change:function(e){var t=e.target.value;t&&(y(t),k.collection("categories").doc(t).collection("items").orderBy("timestamp","asc").onSnapshot((function(e){return h(e.docs.map((function(e){return e.data()})))})))}}),r.a.createElement(E,{data:b}),r.a.createElement(N,{id:O})):r.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s,{initialState:{user:null},reducer:D},r.a.createElement(L,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.8a646088.chunk.js.map