(this["webpackJsonpresources-list"]=this["webpackJsonpresources-list"]||[]).push([[0],{29:function(e,t,a){e.exports=a(46)},34:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),o=a.n(i),l=(a(34),a(3)),c=a(1),u=a(6),s=a.n(u),m=a(11),d=a(10),p=a(5),f=a(7),g=a.n(f),b=Object(n.createContext)(),h=function(e){var t=e.reducer,a=e.initialState,i=e.children;return r.a.createElement(b.Provider,{value:Object(n.useReducer)(t,a)},i)},v=function(){return Object(n.useContext)(b)},E=(a(41),a(43),g.a.initializeApp({apiKey:"AIzaSyCPbuYMie4GZcZdpTNBLGiAIOs2TEcdW2E",authDomain:"resources-list-cdcc1.firebaseapp.com",databaseURL:"https://resources-list-cdcc1.firebaseio.com",projectId:"resources-list-cdcc1",storageBucket:"resources-list-cdcc1.appspot.com",messagingSenderId:"110668222898",appId:"1:110668222898:web:44a887a3e34b43195554ab",measurementId:"G-X3GCL5JFCL"}).firestore()),x=g.a.auth(),w=new g.a.auth.GoogleAuthProvider,C=E,y=Object(p.a)({myForm:{marginTop:"4.5rem",width:"100%",display:"grid",gridTemplateColumns:"0.6fr",justifyContent:"center",paddingTop:"1rem"},myFormControls:{display:"grid",gridTemplateColumns:"1fr",gap:"0.3rem"},button:{marginRight:0},"@media screen and (max-width: 32em)":{myForm:{width:"85vw",gridTemplateColumns:"1fr"},myFormControls:{flexDirection:"column"}}});var O=function(e){var t=e.id,a=y(),n=v(),i=Object(c.a)(n,1)[0].user,o=r.a.useState({title:"",link:""}),u=Object(c.a)(o,2),p=u[0],f=u[1],b=function(e){f(Object(l.a)(Object(l.a)({},p),{},Object(d.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),p.title&&p.link){e.next=3;break}return e.abrupt("return");case 3:if(!t){e.next=7;break}return e.next=6,C.collection("categories").doc(t).collection("items").add({title:p.title,link:p.link,timestamp:g.a.firestore.FieldValue.serverTimestamp(),userId:i.uid});case 6:f({title:"",link:""});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:a.myForm,onSubmit:h},r.a.createElement("div",{className:a.myFormControls},r.a.createElement("textarea",{col:"4",rows:"4",type:"text",name:"title",placeholder:"Name and/or description",onChange:b,value:p.title,required:!0}),r.a.createElement("input",{type:"url",name:"link",className:a.button,placeholder:"Link",onChange:b,value:p.link,required:!0}),r.a.createElement("input",{className:"input button",type:"submit",value:"ADD"})))};var j=function(e){var t=e.values,a=e.change;return Object(n.useEffect)((function(){if(t.length>0){var e={target:{value:t[0].id}};a(e)}}),[t]),r.a.createElement(r.a.Fragment,null,t.length>0?r.a.createElement("select",{name:"categories",className:"input select",onChange:a,defaultValue:t[0].id},r.a.createElement("option",{value:""},"Category"),t.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{className:"input select"},r.a.createElement("option",{value:""},"Category"),r.a.createElement("option",{value:""},"Loading..."))))},k=a(17),L=a(25),S=a.n(L),N=a(13);var F=function(e){var t=e.data,a=e.categoryId,n=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,C.collection("categories").doc(a).collection("items").doc(t).delete();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,r.a.createElement("a",{href:t.link,target:"_blank",rel:"noopener noreferrer"},t.link)),r.a.createElement("blockquote",null,t.title),r.a.createElement("div",{className:"item__footer"},t.timestamp&&r.a.createElement("small",null,new Date(t.timestamp.toDate()).toLocaleString()),r.a.createElement("button",{onClick:function(){window.confirm("Are you sure you wish to delete this item?")&&n(t.id)}},"Remove")),r.a.createElement("button",{className:"item__edit"},r.a.createElement("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px"},r.a.createElement("path",{d:"M 43.125 2 C 41.878906 2 40.636719 2.488281 39.6875 3.4375 L 38.875 4.25 L 45.75 11.125 C 45.746094 11.128906 46.5625 10.3125 46.5625 10.3125 C 48.464844 8.410156 48.460938 5.335938 46.5625 3.4375 C 45.609375 2.488281 44.371094 2 43.125 2 Z M 37.34375 6.03125 C 37.117188 6.0625 36.90625 6.175781 36.75 6.34375 L 4.3125 38.8125 C 4.183594 38.929688 4.085938 39.082031 4.03125 39.25 L 2.03125 46.75 C 1.941406 47.09375 2.042969 47.457031 2.292969 47.707031 C 2.542969 47.957031 2.90625 48.058594 3.25 47.96875 L 10.75 45.96875 C 10.917969 45.914063 11.070313 45.816406 11.1875 45.6875 L 43.65625 13.25 C 44.054688 12.863281 44.058594 12.226563 43.671875 11.828125 C 43.285156 11.429688 42.648438 11.425781 42.25 11.8125 L 9.96875 44.09375 L 5.90625 40.03125 L 38.1875 7.75 C 38.488281 7.460938 38.578125 7.011719 38.410156 6.628906 C 38.242188 6.246094 37.855469 6.007813 37.4375 6.03125 C 37.40625 6.03125 37.375 6.03125 37.34375 6.03125 Z"}))))};function I(){var e=Object(k.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 34px;\n  width: 32px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return I=function(){return e},e}function D(){var e=Object(k.a)(["\n  height: 32px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return D=function(){return e},e}var T=Object(p.a)({container:{width:"60vw",marginTop:"1rem",marginBottom:"1rem",padding:"1rem",display:"flex",flexDirection:"column"},"@media screen and (max-width: 32em)":{container:{width:"85vw"}}}),R=[{name:"Title",sortable:!0,cell:function(e){return r.a.createElement("div",{style:{fontWeight:700,maxWidth:"200px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},e.title)}},{name:"Link",selector:"link",sortable:!0,cell:function(e){return r.a.createElement("div",null,r.a.createElement("div",{style:{fontWeight:700,maxWidth:"250px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.link)))},hide:"md"},{name:"Date",selector:"timestamp",sortable:!0,cell:function(e){return r.a.createElement("div",{style:{fontWeight:400}},r.a.createElement("small",null,e.timestamp?new Date(e.timestamp.toDate()).toLocaleDateString():"Loading"))},maxWidth:"85px",minWidth:"85px"}],A=N.default.input(D()),W=N.default.button(I()),B=function(e){var t=e.filterText,a=e.onFilter,n=e.onClear;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{id:"search",type:"text",placeholder:"Filter By Name","aria-label":"Search Input",value:t,onChange:a}),r.a.createElement(W,{type:"button",onClick:n},"X"))},_=function(){return r.a.createElement("div",{className:"loader loader-sm color__loader mt0"},"Loading...")};var P=function(e){var t=e.isLoading,a=e.categoryId,n=e.data,i=T(),o=r.a.useState(""),l=Object(c.a)(o,2),u=l[0],s=l[1],m=r.a.useState(!1),d=Object(c.a)(m,2),p=d[0],f=d[1],g=r.a.useMemo((function(){return r.a.createElement(B,{onFilter:function(e){return s(e.target.value)},onClear:function(){u&&(f(!p),s(""))},filterText:u})}),[u,p]),b=n.filter((function(e){return e.title&&e.title.toLowerCase().includes(u.toLowerCase())||e.link&&e.link.toLowerCase().includes(u.toLowerCase())}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.container},r.a.createElement(S.a,{title:"Resources",columns:R,data:b,defaultSortField:"timestamp",defaultSortAsc:!1,pagination:!0,noHeader:!0,highlightOnHover:!0,pointerOnHover:!0,expandableRows:!0,paginationResetDefaultPage:p,subHeader:!0,subHeaderComponent:g,dense:!0,progressPending:t,progressComponent:r.a.createElement(_,null),expandableRowsComponent:r.a.createElement(F,{categoryId:a})})))},G="SET_USER",H=function(e,t){switch(t.type){case G:return Object(l.a)(Object(l.a)({},e),{},{user:t.user});default:return e}},M=Object(p.a)({login:{width:"60%",height:"100%",display:"grid",padding:"1rem",placeContent:"center","& div":{display:"flex",flexDirection:"column",alignItems:"center","& h1":{textAlign:"center",paddingBottom:"2rem",color:"rgba(255,255,255,0.87)"},"& button":{width:"300px",backgroundColor:"#D67AB1",color:"#f2f2f2",fontWeight:600,border:"none",borderRadius:"5px"}}}});var q=function(){var e=M(),t=v(),a=Object(c.a)(t,2),i=(a[0],a[1]),o=Object(n.useState)(!0),l=Object(c.a)(o,2),u=l[0],s=l[1];return Object(n.useEffect)((function(){var e=x.onAuthStateChanged((function(t){s(!1),i({type:G,user:t}),e()}))}),[]),u?r.a.createElement("div",{className:e.login},r.a.createElement("div",{className:"loader"},"Loading...")):r.a.createElement("div",{className:e.login},r.a.createElement("div",null,r.a.createElement("h1",null,"No registration required, sign in with your google account"),r.a.createElement("button",{type:"button",className:"input button",name:"signIn",onClick:function(){x.signInWithPopup(w).then((function(e){i({type:G,user:e.user})})).catch((function(e){alert(e.message)}))}},"Sign In")))},Z=function(e){var t=e.logout;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"input logout",onClick:t},"Sign out"))};var J=function(){var e=v(),t=Object(c.a)(e,2),a=t[0].user;return t[1],r.a.createElement("img",{className:"user-profile",src:a?null===a||void 0===a?void 0:a.photoURL:"",alt:"Loading..."})};var U=function(){var e=v(),t=Object(c.a)(e,2),a=t[0].user,i=t[1],o=Object(n.useState)(!0),u=Object(c.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)([]),p=Object(c.a)(d,2),f=p[0],g=p[1],b=Object(n.useState)([]),h=Object(c.a)(b,2),E=h[0],w=h[1],y=Object(n.useState)(""),k=Object(c.a)(y,2),L=k[0],S=k[1];return Object(n.useEffect)((function(){a&&C.collection("categories").onSnapshot((function(e){var t=e.docs;g(t.map((function(e,t){return{id:e.id,name:e.data().name}})))}))}),[a]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement(j,{values:f,change:function(e){var t=e.target.value;t&&(S(t),C.collection("categories").doc(t).collection("items").where("userId","==",a.uid).orderBy("timestamp","desc").onSnapshot((function(e){return w(e.docs.map((function(e){var t=e.data(),a=e.id;return Object(l.a)(Object(l.a)({},t),{},{id:a})})))}))),m(!1)}}),r.a.createElement(J,null),r.a.createElement(Z,{logout:function(){x.signOut(),i({type:G,user:""})}})),r.a.createElement(O,{id:L}),r.a.createElement(P,{categoryId:L,isLoading:s,data:E})):r.a.createElement(q,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,{initialState:{user:null},reducer:H},r.a.createElement(U,null))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.e1e34767.chunk.js.map